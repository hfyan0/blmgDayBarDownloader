#!/bin/bash
BIN=/home/$(whoami)/Dropbox/dataENF/blmg/blmgDayBarDownloader/target/blmg_day_bar_downloader-assembly-1.0-SNAPSHOT.jar
BLMGCOMMON=/home/$(whoami)/Dropbox/dataENF/blmg/common_path.sh
OUTFOLDER=/home/$(whoami)/Dropbox/nirvana/mvo/data/

source $BLMGCOMMON

###################################################
# SYMBOLLIST="1 2 3 4 5 6 8 11 12 13 16 17 19 23 27 66 83 101 135 144 151 168 177 267 291 293 322 323 330 338 347 358 386 388 390 489 494 525 551 552 576 598 688 694 700 728 753 762 763 823 836 857 883 902 914 916 939 941 991 992 998 1038 1044 1066 1071 1088 1099 1109 1113 1133 1138 1157 1171 1186 1199 1211 1288 1299 1336 1339 1359 1398 1618 1766 1776 1800 1816 1880 1898 1919 1928 1988 2018 2038 2202 2238 2318 2319 2328 2333 2338 2388 2600 2601 2628 2669 2698 2727 2777 2866 2883 2899 3323 3328 3699 3898 3968 3988 3993 6030 6837 6881 6886"
SYMBOLLIST="1 2 3 4 5 6 8 11 12 13 14 16 17 19 23 27 41 52 54 62 66 83 101 133 135 144 151 157 168 177 207 267 291 293 319 321 322 323 330 338 341 347 358 386 388 390 425 435 468 489 494 517 525 533 551 552 576 598 669 686 688 694 698 700 728 753 762 763 778 808 823 836 857 883 902 914 916 939 941 958 960 966 991 992 998 999 1023 1038 1044 1066 1071 1088 1093 1099 1109 1113 1133 1138 1157 1170 1171 1186 1199 1211 1288 1299 1330 1336 1339 1359 1398 1426 1447 1599 1618 1666 1700 1766 1776 1800 1816 1880 1898 1899 1919 1928 1988 1999 2018 2028 2038 2202 2238 2313 2318 2319 2328 2333 2338 2348 2356 2380 2388 2600 2601 2628 2669 2688 2698 2727 2777 2778 2800 2866 2883 2899 3323 3328 3336 3380 3699 3813 3898 3968 3988 3993 6030 6823 6837 6881 6886"
# SYMBOLLIST1="1 2 3 4 5 6 8 10 11 12 13 14 16 17 18 19 20 22 23 27 28 31 34 35 41 43 44 45 49 50 53 54 56 57 62 66 67 69 71 73 74 78 81 82 83 85 86 87 92 97 99 100 101 102 106 109 113 116 119 123 124 127 135 136 138 139 142 143 144 148 151 152 156 157 163 165 167 168 169 171 173 175 177 178 179 182 188 189 190 194 196 198 200 202 207 208 210 215 217 220 230 232 238 241 242 243 245 246 250 256 257 267 268 269 270 272 276 282 283 285 288 291 293 295 297 302 303 307 308 311 315 316 317 318 321 322 323 327 330 332 336 337 338 341 342 343 345 346 347 348 349 354 358 363 368 371 373 378 382 384 386 388 390 392 393 399 400 404 405 409 410 412 418 419 420 425 432 433 434 435 439 440 450 451 460 467 468 480 484 489 493 494 506 511 517 521 522 525 530 531"
# SYMBOLLIST2="535 538 543 546 547 548 551 552 555 563 566 569 570 576 579 581 582 583 585 586 587 588 589 590 591 596 598 603 604 606 607 626 631 636 639 641 648 655 656 658 659 665 669 670 672 678 680 682 683 686 688 691 694 696 697 698 699 700 702 709 710 715 716 721 726 727 728 729 732 735 737 743 746 750 751 753 754 755 762 763 764 769 773 775 777 778 787 799 806 808 809 813 816 817 818 819 823 825 828 829 832 836 842 845 846 848 853 855 857 858 861 867 868 874 880 881 882 883 884 885 886 887 888 891 893 900 902 903 904 906 910 911 914 915 916 917 921 923 925 926 930 931 933 934 939 940 941 950 951 958 960 963 966 968 976 978 980 981 983 985 991 992 993 995 996 998 999 1004 1009 1019 1023 1025 1027 1029 1030 1033 1038 1044 1045 1049 1051"
# SYMBOLLIST3="1052 1055 1060 1063 1066 1068 1070 1071 1072 1076 1080 1083 1086 1088 1091 1093 1094 1097 1098 1099 1101 1109 1111 1112 1113 1114 1115 1117 1122 1126 1128 1133 1135 1136 1138 1148 1149 1157 1165 1168 1169 1170 1171 1175 1177 1180 1186 1188 1189 1192 1193 1194 1196 1199 1200 1203 1205 1207 1208 1211 1212 1219 1221 1224 1225 1230 1231 1233 1234 1236 1238 1251 1253 1258 1282 1288 1293 1297 1299 1302 1308 1310 1313 1314 1315 1316 1317 1321 1333 1336 1338 1339 1345 1347 1358 1359 1361 1363 1366 1368 1369 1371 1375 1378 1381 1382 1387 1393 1396 1398 1415 1428 1431 1432 1448 1508 1509 1513 1515 1528 1530 1555 1585 1600 1618 1619 1622 1623 1628 1636 1638 1658 1661 1666 1668 1680 1681 1685 1688 1698 1700 1717 1728 1733 1766 1768 1776 1777"
# SYMBOLLIST4="1778 1788 1798 1800 1811 1813 1816 1818 1819 1828 1829 1833 1836 1848 1868 1880 1881 1882 1883 1886 1888 1893 1898 1899 1900 1918 1919 1928 1929 1958 1963 1966 1968 1970 1972 1980 1988 1997 1999 2005 2006 2007 2008 2009 2010 2014 2018 2020 2038 2039 2066 2098 2099 2111 2128 2168 2178 2186 2196 2199 2200 2202 2208 2211 2222 2233 2236 2238 2255 2280 2282 2298 2299 2300 2313 2314 2317 2318 2319 2326 2328 2329 2331 2332 2333 2338 2339 2342 2343 2348 2356 2357 2362 2369 2380 2382 2383 2386 2388 2389 2393 2468 2588 2600 2601 2607 2618 2626 2628 2666 2669 2678 2686 2688 2689 2698 2727 2768 2777 2778 2789 2866 2868 2877 2878 2880 2883 2888 2899 3301 3308 3311 3315 3323 3328 3331 3333 3336 3337 3339 3360 3368 3377 3380 3382 3383 3389 3393"
# SYMBOLLIST5="3396 3398 3606 3618 3639 3668 3698 3699 3788 3799 3800 3808 3813 3818 3823 3836 3883 3886 3888 3898 3899 3900 3908 3933 3938 3968 3969 3983 3988 3993 3998 6030 6136 6166 6199 6808 6818 6837 6863 6878 6881 6886 87001"
SYM_SUFFIX="HK Equity"
FILE_SUFFIX=hk

# ###################################################
# SYMBOLLIST="AA AAPL AIG AXP BA BAC C CAT CCE CSCO CVX DD DIS GE GM GS HD HON HPQ IBM INTC IP JNJ JPM KHC KODK MCD MMM MO MRK MSFT NKE PFE PG PM T TRV UNH UTX V VZ WMT XOM SPY DIA"
# SYM_SUFFIX="US Equity"
# FILE_SUFFIX=us

###################################################
# java -jar $BIN -f PX_LAST -s HI1 -s HC1 -symsuffix " Index" -start 20030101 -end 20201231 -adjusted false -o $OUTFOLDER/hist_adj_px_hk_fut.csv

# ###################################################
# CNT=1
# for SYM in $SYMBOLLIST1
# do
#     if [[ $CNT -eq 1 ]]
#     then
#         SYMBOLSTR=""
#         for SYM in $SYMBOLLIST1
#         do
#             SYMBOLSTR=$SYMBOLSTR" -s "$SYM
#         done
#     elif [[ $CNT -eq 2 ]]
#     then
#         SYMBOLSTR=""
#         for SYM in $SYMBOLLIST2
#         do
#             SYMBOLSTR=$SYMBOLSTR" -s "$SYM
#         done
#     elif [[ $CNT -eq 3 ]]
#     then
#         SYMBOLSTR=""
#         for SYM in $SYMBOLLIST3
#         do
#             SYMBOLSTR=$SYMBOLSTR" -s "$SYM
#         done
#     elif [[ $CNT -eq 4 ]]
#     then
#         SYMBOLSTR=""
#         for SYM in $SYMBOLLIST4
#         do
#             SYMBOLSTR=$SYMBOLSTR" -s "$SYM
#         done
#     elif [[ $CNT -eq 5 ]]
#     then
#         SYMBOLSTR=""
#         for SYM in $SYMBOLLIST5
#         do
#             SYMBOLSTR=$SYMBOLSTR" -s "$SYM
#         done
#     else
#         break
#     fi
#
#     java -jar $BIN -f PX_LAST $SYMBOLSTR -symsuffix " $SYM_SUFFIX" -start 20030101 -end 20201231 -adjusted true -o $OUTFOLDER/hist_adj_px_"$FILE_SUFFIX"_"$CNT".csv
#     java -jar $BIN -f PX_LAST $SYMBOLSTR -symsuffix " $SYM_SUFFIX" -start 20030101 -end 20201231 -adjusted false -o $OUTFOLDER/hist_unadj_px_"$FILE_SUFFIX"_"$CNT".csv
#     cat $OUTFOLDER/hist_adj_px_"$FILE_SUFFIX"_"$CNT".csv >> $OUTFOLDER/hist_adj_px_"$FILE_SUFFIX".csv
#     cat $OUTFOLDER/hist_unadj_px_"$FILE_SUFFIX"_"$CNT".csv >> $OUTFOLDER/hist_unadj_px_"$FILE_SUFFIX".csv
#     CNT=$(expr $CNT + 1)
# done

###################################################
SYMBOLSTR=""
for SYM in $SYMBOLLIST
do
    SYMBOLSTR=$SYMBOLSTR" -s "$SYM
done

java -jar $BIN -f PX_LAST $SYMBOLSTR -symsuffix " $SYM_SUFFIX" -start 20050101 -end 20201231 -adjusted true -o $OUTFOLDER/hist_adj_px_"$FILE_SUFFIX".csv
java -jar $BIN -f PX_LAST $SYMBOLSTR -symsuffix " $SYM_SUFFIX" -start 20050101 -end 20201231 -adjusted false -o $OUTFOLDER/hist_unadj_px_"$FILE_SUFFIX".csv
